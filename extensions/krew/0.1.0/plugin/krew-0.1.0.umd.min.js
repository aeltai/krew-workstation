(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["krew-0.1.0"]=t():e["krew-0.1.0"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){var e={611:function(e,t,a){"use strict";a.r(t),a.d(t,{init:function(){return s}});const n="_";function s(e,t){const a="tools",s="krew",{product:i,basicType:r,virtualType:l}=e.DSL(t,a);i({icon:"terminal",label:"Krew Workstation",inStore:"management",weight:100,to:{name:`${a}-c-cluster-${s}`,params:{product:a,cluster:n}}}),l({label:"Krew Workstation",name:s,route:{name:`${a}-c-cluster-${s}`,params:{product:a,cluster:n}},icon:"terminal"}),r([s])}},151:function(e,t,a){"use strict";a.r(t);var n=a(758),s=a.n(n),i=a(935),r=a.n(i),l=r()(s());l.push([e.id,'.krew-page[data-v-6e886e58]{flex-direction:column;height:calc(100vh - 60px);max-width:none;margin:0;overflow:hidden;background:var(--krew-bg,#0d0d0d)}.frame-toolbar[data-v-6e886e58],.krew-page[data-v-6e886e58]{display:flex;padding:6px 12px}.frame-toolbar[data-v-6e886e58]{justify-content:space-between;align-items:center;gap:8px;flex-shrink:0;background:var(--krew-toolbar,#252525);border-bottom:1px solid var(--krew-panel-border,#333)}.frame-toolbar .toolbar-left[data-v-6e886e58]{display:flex;gap:6px;align-items:center}.frame-toolbar .toolbar-left .btn.xs[data-v-6e886e58]{padding:2px 8px;font-size:.7em;min-height:22px}.frame-toolbar .search-label[data-v-6e886e58]{font-size:.8em;color:var(--krew-text,#b0b0b0);margin-right:4px}.frame-toolbar .search-input[data-v-6e886e58]{padding:4px 8px;font-size:.8em;border:1px solid var(--krew-panel-border,#444);border-radius:4px;width:200px;background:var(--krew-panel,#1a1a1a);color:var(--krew-text,#e0e0e0)}.frame-toolbar .search-input[data-v-6e886e58]::-moz-placeholder{color:var(--krew-muted,#666)}.frame-toolbar .search-input[data-v-6e886e58]::placeholder{color:var(--krew-muted,#666)}.cluster-info[data-v-6e886e58]{flex-shrink:0;display:flex;align-items:center;gap:6px;margin-bottom:6px;margin-top:2px;font-size:.75em;color:var(--muted)}.cluster-info .cluster-badge[data-v-6e886e58]{padding:2px 6px;border-radius:4px;font-size:.8em;background:#e3f2fd;color:#1565c0}.cluster-info .cluster-badge.active[data-v-6e886e58]{background:#c8e6c9;color:#2e7d32}.banner[data-v-6e886e58]{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;padding:4px 8px;border-radius:4px;margin-bottom:4px;font-size:.75em}.banner.error[data-v-6e886e58]{background:#fdecea;color:#b71c1c}.banner.success[data-v-6e886e58]{background:#e8f5e9;color:#1b5e20}.banner .dismiss[data-v-6e886e58]{background:none;border:none;cursor:pointer;font-size:1.1em;padding:0 4px}.loading-bar[data-v-6e886e58]{flex-shrink:0;height:2px;background:var(--primary);margin-bottom:4px}.panels[data-v-6e886e58]{flex:1;min-height:300px;display:flex;flex-direction:column;border:1px solid var(--krew-panel-border,#333);border-radius:6px;overflow:hidden;background:var(--krew-panel,#1a1a1a)}.panels .tabs[data-v-6e886e58]{display:flex;background:var(--krew-tabs,#252525);border-bottom:1px solid var(--krew-panel-border,#333);flex-shrink:0}.panels .tabs button[data-v-6e886e58]{padding:4px 12px;font-size:.8em;border:none;background:none;cursor:pointer;font-weight:600;color:#888}.panels .tabs button.active[data-v-6e886e58]{color:#4caf50;border-bottom:2px solid #4caf50;margin-bottom:-1px}.panels .panel[data-v-6e886e58]{flex:1;overflow:auto;padding:12px}.panels .plugins-panel[data-v-6e886e58]{min-height:300px;background:var(--krew-panel,#1a1a1a);color:var(--krew-text,#e0e0e0)}.panels .plugins-panel .plugin-table[data-v-6e886e58]{width:100%;border-collapse:collapse;font-size:.85em;font-family:monospace}.panels .plugins-panel .plugin-table td[data-v-6e886e58],.panels .plugins-panel .plugin-table th[data-v-6e886e58]{padding:6px 10px;text-align:left;border-bottom:1px solid var(--krew-panel-border,#333)}.panels .plugins-panel .plugin-table th[data-v-6e886e58]{font-weight:600;color:#4caf50;background:var(--krew-tabs,#252525)}.panels .plugins-panel .plugin-table .name[data-v-6e886e58]{font-weight:600;color:#64b5f6}.panels .plugins-panel .plugin-table .desc[data-v-6e886e58]{color:var(--krew-muted,#888);max-width:280px}.panels .plugins-panel .plugin-table .badge[data-v-6e886e58]{padding:2px 6px;border-radius:4px;font-size:.75em;font-weight:600}.panels .plugins-panel .plugin-table .badge.installed[data-v-6e886e58]{background:#2e7d32;color:#a5d6a7}.panels .plugins-panel .plugin-table .badge.available[data-v-6e886e58]{background:#1565c0;color:#90caf9}.panels .plugins-panel .plugin-table .actions .btn[data-v-6e886e58]{margin-right:4px}.panels .plugins-panel .pagination[data-v-6e886e58]{display:flex;align-items:center;gap:12px;padding:8px 0;font-size:.8em;color:var(--krew-muted,#888)}.panels .plugins-panel .pagination .pagination-info[data-v-6e886e58]{margin-right:8px}.panels .terminal-panel[data-v-6e886e58]{display:flex;flex-direction:column;padding:0;background:var(--krew-panel,#1a1a1a);min-height:300px;overflow:hidden}.panels .terminal-panel .shell-header[data-v-6e886e58]{flex-shrink:0;position:relative;display:flex;justify-content:space-between;align-items:center;padding:6px 12px;background:var(--krew-shell-header,#252525);color:var(--krew-text,#b0b0b0);font-size:.75em}.panels .terminal-panel .shell-header .shell-header-left[data-v-6e886e58]{display:flex;align-items:center;gap:10px;position:relative}.panels .terminal-panel .shell-header .shell-header-left .shell-meta[data-v-6e886e58]{font-size:.9em;font-family:monospace;color:var(--krew-text,#b0b0b0)}.panels .terminal-panel .shell-header .shell-header-left .shell-context[data-v-6e886e58]{padding:2px 6px;border-radius:4px;font-size:.9em;font-family:monospace;background:#3d5a80;color:#90caf9;max-width:120px;overflow:hidden;text-overflow:ellipsis}.theme-light .panels .terminal-panel .shell-header .shell-header-left .shell-context[data-v-6e886e58]{background:#e3f2fd;color:#1565c0}.panels .terminal-panel .shell-header .shell-header-left .btn.xs[data-v-6e886e58]{padding:0 6px;font-size:.9em;min-height:20px;min-width:20px;line-height:1}.panels .terminal-panel .shell-header .shell-header-left .btn.xs.active[data-v-6e886e58]{background:var(--primary);color:#fff}.panels .terminal-panel .shell-header .shell-header-left .about-krew-card[data-v-6e886e58]{position:absolute;top:100%;left:0;z-index:20;margin-top:4px;padding:8px 12px;background:var(--krew-panel,#2d2d2d);border:1px solid var(--krew-panel-border,#444);border-radius:6px;font-size:.8em;color:var(--krew-text,#ccc)}.panels .terminal-panel .shell-header .shell-header-left .about-krew-card h3[data-v-6e886e58]{margin:0 0 4px;font-size:.95em}.panels .terminal-panel .shell-header .shell-header-left .about-krew-card p[data-v-6e886e58]{margin:0}.panels .terminal-panel .shell-header .shell-header-left .about-krew-card a[data-v-6e886e58]{color:var(--primary)}.panels .terminal-panel .shell-header .shell-header-right[data-v-6e886e58]{display:flex;align-items:center;gap:12px}.panels .terminal-panel .shell-header .shell-header-right[data-v-6e886e58]>:not(:last-child):after{content:" ¬∑ ";margin-left:4px;color:#555;font-weight:400}.panels .terminal-panel .shell-header .shell-status[data-v-6e886e58]{color:#888}.panels .terminal-panel .shell-header .shell-status.connected[data-v-6e886e58]{color:#4caf50}.panels .terminal-panel .shell-header .connect-btn[data-v-6e886e58]{min-width:72px}.panels .terminal-panel .shell-header .cheatsheet-btn.active[data-v-6e886e58]{background:var(--primary);color:#fff}.panels .terminal-panel .shell-header .cheatsheet-panel[data-v-6e886e58]{position:absolute;top:100%;right:0;z-index:20;margin-top:4px;padding:12px 14px;min-width:280px;background:#2d2d2d;border:1px solid #444;border-radius:6px;font-size:.8em;line-height:1.6;color:#ccc;box-shadow:0 4px 12px rgba(0,0,0,.4)}.panels .terminal-panel .shell-header .cheatsheet-panel .cheatsheet-title[data-v-6e886e58]{font-weight:600;color:#fff;margin-bottom:8px}.panels .terminal-panel .shell-header .cheatsheet-panel .cheatsheet-section[data-v-6e886e58]{font-weight:600;color:#888;margin-top:10px;margin-bottom:4px;font-size:.9em}.panels .terminal-panel .shell-header .cheatsheet-panel code[data-v-6e886e58]{background:#1a1a1a;padding:1px 4px;border-radius:3px;font-size:.9em}.panels .terminal-panel .terminal-container[data-v-6e886e58]{flex:1;min-height:200px;padding:6px;overflow:hidden}.panels .terminal-panel .terminal-placeholder[data-v-6e886e58]{padding:24px;color:#666;text-align:center}.panels .files-panel[data-v-6e886e58]{background:#1a1a1a;color:#e0e0e0}.theme-light .panels .files-panel[data-v-6e886e58]{background:#fff;color:#333}.panels .files-panel .files-toolbar[data-v-6e886e58]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.panels .files-panel .files-toolbar .fs-path[data-v-6e886e58]{font-family:monospace;font-size:.9em;color:#4caf50}.panels .files-panel .fs-error[data-v-6e886e58]{color:#ef5350;font-size:.9em}.panels .files-panel .fs-tree[data-v-6e886e58]{font-size:.85em;font-family:monospace}.panels .files-panel .fs-tree .fs-header[data-v-6e886e58]{font-weight:600;color:#4caf50;border-bottom:1px solid var(--krew-panel-border,#333);background:var(--krew-tabs,#252525)}.panels .files-panel .fs-tree .fs-header[data-v-6e886e58],.panels .files-panel .fs-tree .fs-row[data-v-6e886e58]{display:grid;grid-template-columns:1fr 80px 120px 140px;gap:12px;padding:6px 8px}.panels .files-panel .fs-tree .fs-row[data-v-6e886e58]{cursor:pointer;border-radius:4px;align-items:center}.panels .files-panel .fs-tree .fs-row.dir[data-v-6e886e58]:hover{background:var(--krew-tabs,#252525)}.panels .files-panel .fs-tree .fs-row.file[data-v-6e886e58]{cursor:default}.panels .files-panel .fs-tree .fs-row .fs-col-name[data-v-6e886e58]{display:flex;align-items:center;gap:8px}.panels .files-panel .fs-tree .fs-row .fs-col-name .fs-icon[data-v-6e886e58]{font-size:1.1em}.panels .files-panel .fs-tree .fs-row .fs-col-date[data-v-6e886e58],.panels .files-panel .fs-tree .fs-row .fs-col-mode[data-v-6e886e58],.panels .files-panel .fs-tree .fs-row .fs-col-size[data-v-6e886e58]{font-size:.9em;color:var(--krew-muted,#888)}.empty-state[data-v-6e886e58]{padding:24px;text-align:center;color:var(--muted);font-size:.9em}.panels .files-panel .empty-state[data-v-6e886e58],.panels .plugins-panel .empty-state[data-v-6e886e58]{color:var(--krew-muted,#888)}[data-v-6e886e58] .xterm{padding:4px;background-color:var(--krew-panel,#1a1a1a)!important}[data-v-6e886e58] .xterm-viewport{overflow-y:auto!important}',""]),t["default"]=l},935:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",n="undefined"!==typeof t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),n&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),n&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,n,s,i){"string"===typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(r[o]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&r[d[0]]||("undefined"!==typeof i&&("undefined"===typeof d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),a&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=a):d[2]=a),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},758:function(e){"use strict";e.exports=function(e){return e[1]}},559:function(e,t,a){var n=a(151);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var s=a(825).A;s("5376762d",n,!0,{sourceMap:!1,shadowMode:!1})},825:function(e,t,a){"use strict";function n(e,t){for(var a=[],n={},s=0;s<t.length;s++){var i=t[s],r=i[0],l=i[1],o=i[2],c=i[3],d={id:e+":"+s,css:l,media:o,sourceMap:c};n[r]?n[r].parts.push(d):a.push(n[r]={id:r,parts:[d]})}return a}a.d(t,{A:function(){return f}});var s="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,o=0,c=!1,d=function(){},p=null,h="data-vue-ssr-id",u="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,a,s){c=a,p=s||{};var r=n(e,t);return g(r),function(t){for(var a=[],s=0;s<r.length;s++){var l=r[s],o=i[l.id];o.refs--,a.push(o)}t?(r=n(e,t),g(r)):r=[];for(s=0;s<a.length;s++){o=a[s];if(0===o.refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete i[o.id]}}}}function g(e){for(var t=0;t<e.length;t++){var a=e[t],n=i[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(m(a.parts[s]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(s=0;s<a.parts.length;s++)r.push(m(a.parts[s]));i[a.id]={id:a.id,refs:1,parts:r}}}}function v(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function m(e){var t,a,n=document.querySelector("style["+h+'~="'+e.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(u){var s=o++;n=l||(l=v()),t=w.bind(null,n,s,!1),a=w.bind(null,n,s,!0)}else n=v(),t=x.bind(null,n),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else a()}}var b=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}();function w(e,t,a,n){var s=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function x(e,t){var a=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute(h,t.id),s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}},330:function(e){"use strict";e.exports=JSON.parse('{"name":"krew-plugin-manager","description":"Kubectl Plugin Manager for Rancher Dashboard","version":"0.1.0","private":false,"rancher":{"annotations":{"catalog.cattle.io/kube-version":">= 1.16.0-0","catalog.cattle.io/rancher-version":">= 2.10.0-0","catalog.cattle.io/ui-extensions-version":">= 3.0.0 < 4.0.0"}},"scripts":{"dev":"./node_modules/.bin/nuxt dev","nuxt":"./node_modules/.bin/nuxt"},"engines":{"node":">=12"},"dependencies":{"@vue/cli-plugin-babel":"~5.0.8","@vue/cli-plugin-typescript":"~5.0.8","@vue/cli-service":"~5.0.8","core-js":"^3.8.3","vue":"^2.7.0","vue-class-component":"^7.2.6","vue-property-decorator":"^9.1.2"},"devDependencies":{"@typescript-eslint/eslint-plugin":"^5.4.0","@typescript-eslint/parser":"^5.4.0","@vue/cli-plugin-eslint":"~5.0.8","@vue/eslint-config-typescript":"^9.1.0","eslint":"^7.32.0","eslint-plugin-vue":"^8.0.3","sass":"^1.32.7","sass-loader":"^12.0.0","typescript":"~4.5.5"},"browserslist":["> 1%","last 2 versions","not dead"]}')}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,a),i.exports}!function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}();var n={};return function(){"use strict";if(a.r(n),a.d(n,{default:function(){return $}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(a.p=t[1])}function s(e){}var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"krew-page",class:e.themeClass,style:e.themeVars},[e.clusters.length?t("div",{directives:[{name:"show",rawName:"v-show",value:"terminal"!==e.activeTab,expression:"activeTab !== 'terminal'"}],staticClass:"cluster-info"},[e._v(" Clusters: "),e._l(e.clusters,(function(a){return t("span",{key:a.id,class:["cluster-badge",a.state]},[e._v(e._s(a.name))])}))],2):e._e(),e.error?t("div",{staticClass:"banner error"},[e._v(" "+e._s(e.error)+" "),t("button",{staticClass:"dismiss",on:{click:function(t){e.error=""}}},[e._v("√ó")])]):e._e(),e.message?t("div",{staticClass:"banner success"},[e._v(" "+e._s(e.message)+" "),t("button",{staticClass:"dismiss",on:{click:function(t){e.message=""}}},[e._v("√ó")])]):e._e(),e.loading?t("div",{staticClass:"loading-bar"}):e._e(),t("div",{staticClass:"panels"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"plugins"===e.activeTab,expression:"activeTab === 'plugins'"}],staticClass:"frame-toolbar"},[t("div",{staticClass:"toolbar-left"},[t("button",{staticClass:"btn role-primary xs",attrs:{disabled:e.loading},on:{click:e.loadPlugins}},[t("i",{staticClass:"icon icon-refresh"}),e._v(" Refresh ")]),t("button",{staticClass:"btn role-secondary xs",attrs:{disabled:e.loading},on:{click:e.updateIndex}},[e._v("Update index")])]),t("label",{staticClass:"search-label"},[e._v("Search plugins")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-input",attrs:{type:"text",placeholder:"by name or description‚Ä¶"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),t("div",{staticClass:"tabs"},[t("button",{class:{active:"terminal"===e.activeTab},on:{click:function(t){e.activeTab="terminal"}}},[e._v("Terminal")]),t("button",{class:{active:"plugins"===e.activeTab},on:{click:function(t){e.activeTab="plugins"}}},[e._v("Plugins")]),t("button",{class:{active:"files"===e.activeTab},on:{click:function(t){e.activeTab="files"}}},[e._v("Files")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"plugins"===e.activeTab,expression:"activeTab === 'plugins'"}],staticClass:"panel plugins-panel"},[e.paginatedPlugins.length?t("table",{staticClass:"plugin-table"},[e._m(0),t("tbody",e._l(e.paginatedPlugins,(function(a){return t("tr",{key:a.name},[t("td",{staticClass:"name"},[e._v(e._s(a.name))]),t("td",[e._v(e._s(a.version||"-"))]),t("td",{staticClass:"desc"},[e._v(e._s(a.description))]),t("td",[t("span",{class:["badge",a.installed?"installed":"available"]},[e._v(" "+e._s(a.installed?"Installed":"Available")+" ")])]),t("td",{staticClass:"actions"},[a.installed?e._e():t("button",{staticClass:"btn role-primary sm",attrs:{disabled:e.busy===a.name},on:{click:function(t){return e.installPlugin(a)}}},[e._v("Install")]),a.installed?t("button",{staticClass:"btn role-secondary sm",attrs:{disabled:e.busy===a.name},on:{click:function(t){return e.upgradePlugin(a)}}},[e._v("Upgrade")]):e._e(),a.installed?t("button",{staticClass:"btn role-tertiary sm",attrs:{disabled:e.busy===a.name},on:{click:function(t){return e.uninstallPlugin(a)}}},[e._v("Uninstall")]):e._e()])])})),0)]):e._e(),e.paginatedPlugins.length?t("div",{staticClass:"pagination"},[t("span",{staticClass:"pagination-info"},[e._v(e._s(e.pluginPageStart)+"-"+e._s(e.pluginPageEnd)+" of "+e._s(e.filteredPlugins.length))]),t("button",{staticClass:"btn role-tertiary sm",attrs:{disabled:e.pluginPage<=1},on:{click:function(t){e.pluginPage=Math.max(1,e.pluginPage-1)}}},[e._v("Prev")]),t("button",{staticClass:"btn role-tertiary sm",attrs:{disabled:e.pluginPage>=e.pluginPageCount},on:{click:function(t){e.pluginPage=Math.min(e.pluginPageCount,e.pluginPage+1)}}},[e._v("Next")])]):e.loading?e._e():t("div",{staticClass:"empty-state"},[e.search?t("p",[e._v('No plugins matching "'+e._s(e.search)+'".')]):t("p",[e._v("Click "),t("strong",[e._v("Refresh plugins")]),e._v(" to load the list.")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:"files"===e.activeTab,expression:"activeTab === 'files'"}],staticClass:"panel files-panel"},[t("div",{staticClass:"files-toolbar"},[t("button",{staticClass:"btn role-secondary sm",attrs:{disabled:"/root"===e.fsPath},on:{click:function(t){return e.fsNavigate("/root")}}},[e._v("Root")]),t("button",{staticClass:"btn role-secondary sm",attrs:{disabled:!e.fsPath||"/root"===e.fsPath},on:{click:function(t){return e.fsNavigate(e.parentPath)}}},[e._v("‚Üë Up")]),t("span",{staticClass:"fs-path"},[e._v(e._s(e.fsPath))])]),e.fsError?t("div",{staticClass:"fs-error"},[e._v(e._s(e.fsError))]):t("div",{staticClass:"fs-tree"},[e._m(1),e._l(e.fsEntries,(function(a){return t("div",{key:a.path,class:["fs-row",a.dir?"dir":"file"],on:{click:function(t){a.dir&&e.fsNavigate(a.path)}}},[t("span",{staticClass:"fs-col-name"},[t("span",{class:["fs-icon",a.dir?"dir":"file"]},[e._v(e._s(a.dir?"üìÅ":"üìÑ"))]),e._v(" "+e._s(a.name)+" ")]),t("span",{staticClass:"fs-col-size"},[e._v(e._s(e.formatSize(a.size)))]),t("span",{staticClass:"fs-col-mode"},[e._v(e._s(a.mode))]),t("span",{staticClass:"fs-col-date"},[e._v(e._s(a.modTime))])])}))],2)]),t("div",{directives:[{name:"show",rawName:"v-show",value:"terminal"===e.activeTab,expression:"activeTab === 'terminal'"}],staticClass:"panel terminal-panel"},[t("div",{staticClass:"shell-header"},[t("div",{staticClass:"shell-header-left"},[e.containerInfo?t("span",{staticClass:"shell-meta"},[e._v(e._s(e.containerInfo.baseImage)+" ¬∑ "+e._s(e.containerInfo.goVersion)+" ¬∑ "+e._s(e.containerInfo.hostname||"")+e._s(e.clusters.length?" ¬∑ "+e.clusters.length+" cluster"+(1!==e.clusters.length?"s":""):""))]):e._e(),e.currentContext?t("span",{staticClass:"shell-context",attrs:{title:"Current kubectl context"}},[e._v(e._s(e.currentContext))]):e._e(),t("button",{staticClass:"btn role-tertiary xs theme-btn",attrs:{title:e.darkMode?"Switch to light mode":"Switch to dark mode"},on:{click:e.toggleTheme}},[e._v(e._s(e.darkMode?"‚òÄ":"‚òΩ"))]),t("button",{staticClass:"btn role-tertiary xs about-btn",class:{active:e.showAboutKrew},attrs:{title:"About Krew"},on:{click:function(t){e.showAboutKrew=!e.showAboutKrew}}},[e._v("?")]),e.showAboutKrew?t("div",{staticClass:"about-krew-card"},[t("h3",[e._v("What is Krew?")]),e._m(2)]):e._e()]),t("div",{staticClass:"shell-header-right"},[e.shellConnected?t("span",{staticClass:"shell-status connected"},[e._v("Connected")]):t("span",{staticClass:"shell-status"},[e._v("Disconnected")]),e.terminalReady?t("button",{staticClass:"btn role-secondary sm connect-btn",class:{"role-primary":e.shellConnected},on:{click:function(t){e.shellConnected?e.disconnectShell():e.connectShell()}}},[e._v(" "+e._s(e.shellConnected?"Disconnect":"Connect")+" ")]):e._e(),t("button",{staticClass:"btn role-tertiary sm cheatsheet-btn",class:{active:e.showCheatsheet},attrs:{title:"Cheatsheet"},on:{click:function(t){e.showCheatsheet=!e.showCheatsheet}}},[e._v(" Cheatsheet ")])]),e.showCheatsheet?t("div",{staticClass:"cheatsheet-panel"},[t("div",{staticClass:"cheatsheet-title"},[e._v("Quick reference")]),t("div",{staticClass:"cheatsheet-section"},[e._v("Aliases")]),t("code",[e._v("k")]),e._v(" = kubectl ¬∑ "),t("code",[e._v("kk")]),e._v(" = kubectl krew "),t("div",{staticClass:"cheatsheet-section"},[e._v("Krew")]),t("code",[e._v("kk list")]),e._v(" ¬∑ "),t("code",[e._v("kk search")]),e._v(" ¬∑ "),t("code",[e._v("kk install <name>")]),t("br"),t("code",[e._v("kk uninstall")]),e._v(" ¬∑ "),t("code",[e._v("kk upgrade")]),e._v(" ¬∑ "),t("code",[e._v("kk update")]),t("div",{staticClass:"cheatsheet-section"},[e._v("Plugins (run with k)")]),t("code",[e._v("k stern . -n <ns>")]),e._v(" ¬∑ "),t("code",[e._v("k get-all -n <ns>")]),t("br"),t("code",[e._v("k lineage <res>")]),e._v(" ¬∑ "),t("code",[e._v("k9s")]),t("div",{staticClass:"cheatsheet-section"},[e._v("CLIs")]),t("code",[e._v("zellij")]),e._v(" ¬∑ "),t("code",[e._v("crictl")]),e._v(" ¬∑ "),t("code",[e._v("etcdctl")]),e._v(" ¬∑ "),t("code",[e._v("runc")]),t("div",{staticClass:"cheatsheet-section"},[e._v("SSH to nodes")]),t("code",[e._v("k ssh-jump")]),e._v(" ‚Äî kubectl plugin (needs ssh, ssh-agent) ")]):e._e()]),t("div",{ref:"terminalContainer",staticClass:"terminal-container"}),e.terminalReady?e._e():t("div",{staticClass:"terminal-placeholder"},[e._v("Loading terminal‚Ä¶")])])])])},r=[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Plugin")]),t("th",[e._v("Version")]),t("th",[e._v("Description")]),t("th",[e._v("Status")]),t("th",[e._v("Actions")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"fs-header"},[t("span",{staticClass:"fs-col-name"},[e._v("Name")]),t("span",{staticClass:"fs-col-size"},[e._v("Size")]),t("span",{staticClass:"fs-col-mode"},[e._v("Mode")]),t("span",{staticClass:"fs-col-date"},[e._v("Modified")])])},function(){var e=this,t=e._self._c;return t("p",[e._v("Plugin manager for kubectl. "),t("a",{attrs:{href:"https://krew.sigs.k8s.io",target:"_blank",rel:"noopener"}},[e._v("krew.sigs.k8s.io")])])}];const l="http://localhost:9000",o=l.replace(/^http/,"ws");let c={token:null,expires:0};async function d(){if(c.token&&Date.now()<c.expires)return c.token;const e=window.location.origin,t=["/k8s/clusters/local/apis/ext.cattle.io/v1/tokens","/v1/tokens.ext.cattle.io"];let a;for(const s of t)try{const t=await fetch(`${e}${s}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiVersion:"ext.cattle.io/v1",kind:"Token",metadata:{generateName:"krew-"},spec:{description:"Krew Workstation",ttl:36e5}})});if(!t.ok){const e=await t.json().catch((()=>({})));throw new Error(e.message||`Token API ${t.status}`)}const a=await t.json(),n=a.status?.bearerToken||a.status?.value||a.token;return n&&(c={token:n,expires:Date.now()+3e6}),n}catch(n){a=n}throw a||new Error("Could not get Rancher token")}const p="https://cdn.jsdelivr.net/npm",h="5.3.0",u="0.8.0";function f(e){return new Promise(((t,a)=>{const n=document.createElement("script");n.src=e,n.onload=t,n.onerror=a,document.head.appendChild(n)}))}function g(e){return new Promise(((t,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,n.onload=t,n.onerror=a,document.head.appendChild(n)}))}var v={name:"KrewPage",layout:"plain",data(){return{showAboutKrew:!1,showCheatsheet:!1,darkMode:!0,pendingSyncMessage:"",clusters:[],plugins:[],search:"",loading:!1,busy:"",error:"",message:"",activeTab:"terminal",terminalReady:!1,shellConnected:!1,term:null,fitAddon:null,ws:null,fsPath:"/root",fsEntries:[],fsError:"",currentContext:"",installedPlugins:[],syncingKubeconfig:!1,containerInfo:null,pluginPage:1,pluginsPerPage:25}},computed:{themeClass(){return this.darkMode?"theme-dark":"theme-light"},themeVars(){return this.darkMode?{"--krew-bg":"#0d0d0d","--krew-panel":"#1a1a1a","--krew-panel-border":"#333","--krew-tabs":"#252525","--krew-toolbar":"#252525","--krew-shell-header":"#252525","--krew-text":"#e0e0e0","--krew-muted":"#888"}:{"--krew-bg":"#f0f0f0","--krew-panel":"#fff","--krew-panel-border":"#ddd","--krew-tabs":"#f0f0f0","--krew-toolbar":"#f5f5f5","--krew-shell-header":"#e8e8e8","--krew-text":"#333","--krew-muted":"#666"}},filteredPlugins(){let e=this.plugins;if(this.search){const t=this.search.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)))}return[...e].sort(((e,t)=>e.installed===t.installed?0:e.installed?-1:1))},pluginPageCount(){return Math.max(1,Math.ceil(this.filteredPlugins.length/this.pluginsPerPage))},paginatedPlugins(){const e=(this.pluginPage-1)*this.pluginsPerPage;return this.filteredPlugins.slice(e,e+this.pluginsPerPage)},pluginPageStart(){return this.filteredPlugins.length?(this.pluginPage-1)*this.pluginsPerPage+1:0},pluginPageEnd(){return Math.min(this.pluginPage*this.pluginsPerPage,this.filteredPlugins.length)},parentPath(){if(!this.fsPath||"/"===this.fsPath)return"/";const e=this.fsPath.split("/").filter(Boolean);return e.pop(),e.length?"/"+e.join("/"):"/"}},async mounted(){const e=localStorage.getItem("krew-darkMode");null!==e&&(this.darkMode="true"===e),await Promise.all([this.fetchClusters(),this.loadPlugins(),this.fetchContainerInfo()]),this.loadFs(this.fsPath),await this.syncKubeconfig(),this.initTerminal()},watch:{darkMode(e){localStorage.setItem("krew-darkMode",String(e)),this.$nextTick((()=>this.applyTerminalTheme()))},activeTab(e){"terminal"===e&&this.fitAddon&&this.$nextTick((()=>this.fitAddon.fit()))}},beforeDestroy(){this.disconnectShell(),this.term&&this.term.dispose()},methods:{toggleTheme(){this.darkMode=!this.darkMode,this.$nextTick((()=>this.applyTerminalTheme()))},applyTerminalTheme(){if(!this.term)return;const e=this.darkMode?{background:"#1a1a1a",foreground:"#e0e0e0"}:{background:"#f5f5f5",foreground:"#333"};this.term.options.theme={...e},"function"===typeof this.term.refresh&&this.term.refresh(0,this.term.rows-1)},async api(e,t,a={}){const n={...a.headers};try{const e=await d();e&&(n["Authorization"]=`Bearer ${e}`)}catch(r){}const s=await fetch(`${l}${t}`,{method:e,headers:{"Content-Type":"application/json",...n},...a}),i=await s.json();if(!s.ok)throw new Error(i.error||`HTTP ${s.status}`);return i},async fetchClusters(){try{const e=await this.api("GET","/api/clusters");this.clusters=e.clusters||[]}catch(e){}},async syncKubeconfig(){this.syncingKubeconfig=!0,this.error="";try{const e=await this.api("POST","/api/kubeconfig/sync");await this.fetchContext();const t=e.clusters??0,a=t>0?`Kubeconfig synced for ${t} cluster(s)`:"No clusters to sync";this.pendingSyncMessage=a}catch(e){this.error=`Sync failed: ${e.message}`,await this.fetchContext()}finally{this.syncingKubeconfig=!1}},async fetchContext(){try{const e=await this.api("GET","/api/context");this.currentContext=e.context||""}catch(e){this.currentContext=""}},async fetchInstalledPlugins(){try{const e=await this.api("GET","/api/plugins/installed");this.installedPlugins=e.plugins||[]}catch(e){this.installedPlugins=[]}},async fetchContainerInfo(){try{const e=await this.api("GET","/api/info");this.containerInfo=e}catch(e){this.containerInfo=null}},formatSize(e){return e<0?"-":e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"},async loadPlugins(){this.loading=!0,this.error="";try{const e=await this.api("GET","/api/plugins");this.plugins=e.plugins||[]}catch(e){this.error=`Backend unreachable at ${l} ‚Äî ${e.message}`}finally{this.loading=!1}},async updateIndex(){this.loading=!0,this.message="";try{await this.api("POST","/api/plugins/update"),this.message="Plugin index updated",await this.loadPlugins()}catch(e){this.error=`Update failed: ${e.message}`}finally{this.loading=!1}},async installPlugin(e){this.busy=e.name,this.message="";try{await this.api("POST",`/api/plugins/${e.name}/install`),this.message=`Installed ${e.name}`,await this.loadPlugins()}catch(t){this.error=`Install failed: ${t.message}`}finally{this.busy=""}},async uninstallPlugin(e){this.busy=e.name,this.message="";try{await this.api("DELETE",`/api/plugins/${e.name}`),this.message=`Uninstalled ${e.name}`,await this.loadPlugins()}catch(t){this.error=`Uninstall failed: ${t.message}`}finally{this.busy=""}},async upgradePlugin(e){this.busy=e.name,this.message="";try{await this.api("POST",`/api/plugins/${e.name}/upgrade`),this.message=`Upgraded ${e.name}`,await this.loadPlugins()}catch(t){this.error=`Upgrade failed: ${t.message}`}finally{this.busy=""}},async loadFs(e){this.fsError="";try{const t=await this.api("GET",`/api/fs?path=${encodeURIComponent(e)}`);this.fsPath=t.path,this.fsEntries=t.entries||[]}catch(t){this.fsError=t.message}},fsNavigate(e){this.loadFs(e)},async initTerminal(){const e=this.$refs.terminalContainer;if(!e)return;try{await g(`${p}/xterm@${h}/css/xterm.css`),await f(`${p}/xterm@${h}/lib/xterm.js`),await f(`${p}/xterm-addon-fit@${u}/lib/xterm-addon-fit.js`)}catch(i){return void(e.innerHTML=`<p class="fs-error">Failed to load terminal: ${i.message}</p>`)}const{Terminal:t}=window,a=window.FitAddon?.FitAddon||window.FitAddon;if(!t||!a)return void(e.innerHTML='<p class="fs-error">Terminal not available</p>');this.term=new t({cursorBlink:!0,theme:this.darkMode?{background:"#1a1a1a",foreground:"#e0e0e0"}:{background:"#f5f5f5",foreground:"#333"},fontSize:13}),this.fitAddon=new a,this.term.loadAddon(this.fitAddon),this.term.open(e),this.fitAddon.fit(),this.terminalReady=!0;let n=!1;const s=new ResizeObserver((()=>{n||(n=!0,setTimeout((()=>{n=!1,this.fitAddon&&(this.fitAddon.fit(),this.$nextTick((()=>this.sendResize())))}),0))}));s.observe(e),this.term.writeln(""),this.term.writeln("  Krew Workstation ‚Äî connecting‚Ä¶"),this.term.writeln(""),this.connectShell()},connectShell(){if(this.ws&&this.ws.readyState===WebSocket.OPEN)return;const e=new WebSocket(`${o}/api/ws/shell`);this.ws=e,e.binaryType="arraybuffer",e.onopen=()=>{this.shellConnected=!0,this.fetchInstalledPlugins(),this.sendResize(),this.pendingSyncMessage&&this.term&&(this.term.writeln("\r\n  ‚úì "+this.pendingSyncMessage+"\r\n"),this.pendingSyncMessage="")},e.onclose=()=>{this.shellConnected=!1,this.term?.writeln("\r\nDisconnected.")},e.onerror=()=>{this.term?.writeln("\r\nWebSocket error. Is the backend running on "+l+"?")},e.onmessage=e=>{if(e.data instanceof ArrayBuffer&&this.term){const t=new Uint8Array(e.data);this.term.write(t)}},this.term&&this.term.onData((t=>{if(e.readyState===WebSocket.OPEN){const a=(new TextEncoder).encode(t);e.send(a.buffer)}}))},sendResize(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.term&&this.ws.send(JSON.stringify({type:"resize",cols:this.term.cols,rows:this.term.rows}))},disconnectShell(){this.ws&&(this.ws.close(),this.ws=null),this.shellConnected=!1}}},m=v;a(559);function b(e,t,a,n,s,i,r,l){var o,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(o=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=o):s&&(o=l?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),o)if(c.functional){c._injectStyles=o;var d=c.render;c.render=function(e,t){return o.call(t),d(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,o):[o]}return{exports:e,options:c}}var w=b(m,i,r,!1,null,"6e886e58",null),x=w.exports;const k="_",y="tools",_="hub",C="krew",P=[{path:`/${y}/c/:cluster/${_}`,redirect:e=>({name:`${y}-c-cluster-${C}`,params:{cluster:e.params.cluster}})},{name:`${y}-c-cluster-${C}`,path:`/${y}/c/:cluster/${C}`,component:x,meta:{product:y,cluster:k}}];var T=P;function S(e){s(e),e.metadata=a(330),e.addProduct(a(611)),e.addRoutes(T)}var $=S}(),n}()}));
//# sourceMappingURL=krew-0.1.0.umd.min.js.map